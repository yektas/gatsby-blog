---
title: How to split your huge Docker Compose into multiple files?
date: "2019-10-22"
description: "If you are using Docker Compose in your standard devops procedures, you may face a problem that single docker-compose.yml becomes large and is hard to navigate."
tags: [docker-compose, docker]
published: true
thumbnail: "https://res.cloudinary.com/yektas/image/upload/v1584994864/Blog/posts/Docker-compose%20tutorial/thumbnail.jpg"
---

If you are using Docker Compose in your standard devops procedures, you
may face a problem that single docker-compose.yml becomes large and is
hard to navigate. It gives us no simple way of breaking down big deployment
into smaller segments but there is one trick.

docker-compose binary accepts -f parameter that
specifies docker-compose.yml location and what’s
interesting, it also supports multiple of them.
In such scenario we can split our deployments to
multiple Compose files like:

- docker-compose.db.yml
- docker-compose.api-services.yml
- docker-compose.backend.yml
- docker-compose.gateway.yml
- docker-compose.frontend.yml

Now we can execute Docker Compose using pretty long command that will merge all the files and run them as one.

```bash
docker-compose -f docker-compose.db.yml \
  -f docker-compose.api-services.yml \
  -f docker-compose.backend.yml \
  -f docker-compose.frontend.yml \
  -f docker-compose.gateway.yml \
  up -d
```

If the command seems too hard to write and prone to manual errors, you can always do some bash hacking to use

```bash
docker-compose $(find docker* | sed -e 's/^/-f /') up -d
```

That little monster will find any file matching docker\*, prepend “-f “ to it’s name and then interpret it as a part of command resulting in something similar to the command above.

## Alternative approach idea

I didn’t test that but I suppose it could be also possible to separate services physically by running them in separation and setting up overlay networking between them. Feel free to try if you wish.

Or we could just spin up a cloud and use Kubernetes.
